CREATE TABLE MEMBER (
	USER_ID	NVARCHAR2(20)	NOT NULL,
	GRADE	NVARCHAR2(20)	DEFAULT 'BRONZE',
	USER_NAME	NVARCHAR2(20)	NULL,
	USER_PWD	NVARCHAR2(20)	NULL,
	EMAIL	NVARCHAR2(100)	NULL,
	PHONE	NVARCHAR2(20)	NULL,
	ADDRESS	NVARCHAR2(200)	NULL,
	NICKNAME	NVARCHAR2(20)	NULL,
	ACCOUNT_GRADE	NVARCHAR2(20)	DEFAULT '구매자',
	POINT	NUMBER	DEFAULT 0,
	ENROLL_DATE	DATE	NULL,
	DELETE_YN	NVARCHAR2(10)	DEFAULT 'N',
	DELETE_DATE	NVARCHAR2(20)	NULL,
	CASH	NUMBER	DEFAULT 0
);

CREATE TABLE SELLER (
	USER_ID	NVARCHAR2(20)	NOT NULL,
	APPLY_DATE	DATE	NULL,
	ARTIST_INT	NVARCHAR2(1000)	NULL,
	ARTIST_PRO	NVARCHAR2(1000)	NULL
);

CREATE TABLE PAINT (
	PAINT_NO	NUMBER	NOT NULL,
	PAINT_NAME	NVARCHAR2(40)	NULL,
	PAINT_PRICE	NUMBER	NULL,
	CATEGORY	NVARCHAR2(20)	NULL,
	ARTIST_NAME	NVARCHAR2(20)	NULL,
	PAINT_INT	NVARCHAR2(1000)	NULL,
	PAINT_MDATE	NVARCHAR2(20)	NULL,
	SIZE_NO	NUMBER	NOT NULL,
	AUC_YN	NVARCHAR2(20)	DEFAULT 'N'
);

CREATE TABLE QUESTION (
	Q_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NOT NULL,
	Q_DATE	DATE	NULL,
	Q_CATE	NVARCHAR2(20)	NULL,
	QEUSTION	NVARCHAR2(1000)	NULL
);

CREATE TABLE BOARD (
	NOTI_NO	NUMBER	NOT NULL,
	NOTI_TITLE	NVARCHAR2(20)	NULL,
	NOTI_CATE	NVARCHAR2(20)	NULL,
	NOTI_DATE	DATE	NULL,
	NOTICE	NVARCHAR2(1000)	NULL
);

CREATE TABLE Q_FILE (
	Q_NO	NUMBER	NOT NULL,
	Q_FILE	NVARCHAR2(1000)	NULL
);

CREATE TABLE DELIVERY (
	ADDRESS_NO	NVARCHAR2(20)	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	DELI_ADDRESS	NVARCHAR2(200)	NULL
);

CREATE TABLE BASKET (
	BASKET_NO	NUMBER	NOT NULL,
	PAINT_NAME	NVARCHAR2(40)	NULL,
	PAINT_PRICE	NUMBER	NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	PAINT_NO	NUMBER	NOT NULL,
	BUY_YN	NVARCHAR2(20)	NULL
);

CREATE TABLE REFUND (
	ORDER_NO	NVARCHAR2(20)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	REFUND_RSN	NVARCHAR2(500)	NULL,
	ACCOUNT_NO	NVARCHAR2(200)	NULL,
	ACCOUNT_NAME	NVARCHAR2(20)	NULL,
	BANK	NVARCHAR2(20)	NULL
);

CREATE TABLE MASTERPIECE (
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	LIKES	NUMBER	NULL
);

CREATE TABLE EVENT (
	EVENT_NO	NUMBER	NOT NULL,
	EVENT_TITLE	NVARCHAR2(20)	NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	EVENT_DATE	DATE	NULL,
	EVENT	NVARCHAR2(1000)	NULL,
	HIT	NUMBER	DEFAULT 0,
	EVENT_LIKE	NVARCHAR2(20)	DEFAULT 'N'
);

CREATE TABLE PAINT_Q (
	PQ_NO	NUMBER	NOT NULL,
	PQUESTION	NVARCHAR2(500)	NULL,
	PQ_DATE	DATE	NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL
);

CREATE TABLE PAINT_A (
	PQ_NO	NUMBER	NOT NULL,
	PANSWER	NVARCHAR2(500)	NULL,
	PA_DATE	DATE	NULL
);

CREATE TABLE CAREER (
	CAREER	NVARCHAR2(20)	NOT NULL,
	USER_ID	NVARCHAR2(20)	NOT NULL,
	CAR_TERM	NVARCHAR2(20)	NULL,
	CAR_ETC	NVARCHAR2(1000)	NULL,
	CAR_FILE	NVARCHAR2(1000)	NULL
);

CREATE TABLE ANSWER (
	Q_NO	NUMBER	NOT NULL,
	A_DATE	DATE	NULL,
	ANSWER	NVARCHAR2(1000)	NULL
);

CREATE TABLE USER_GRADE (
	GRADE	NVARCHAR2(20)	DEFAULT 'BRONZE',
	POINT_RATE	NUMBER	NULL
);

CREATE TABLE MESSAGE (
	ORDER_NO	NVARCHAR2(20)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	MESSAGE	NVARCHAR2(500)	NULL,
	PAINT_NAME	NVARCHAR2(40)	NULL,
	ARTIST_NAME	NVARCHAR2(20)	NULL
);

CREATE TABLE PAINT_PHOTO (
	AFILE_NO	NUMBER	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	AFILE	NVARCHAR2(1000)	NULL
);

CREATE TABLE PAINT_SIZE (
	SIZE_NO	NUMBER	NOT NULL,
	WIDTH	NUMBER	NULL,
	HEIGHT	NUMBER	NULL
);

CREATE TABLE EVENT_FILE (
	EVENT_NO	NUMBER	NOT NULL,
	EVENT_FILE	NVARCHAR2(1000)	NULL
);

CREATE TABLE EVENT_LIKE (
	EVENT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL
);

CREATE TABLE TAG (
	TAG_NAME	NVARCHAR2(40)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL
);

CREATE TABLE EVENT_REPLY (
	REPLY_NO	NUMBER	NOT NULL,
	EVENT_NO	NUMBER	NOT NULL,
	REPLY	NVARCHAR2(500)	NULL,
	REPLY_DATE	DATE	NULL,
	USER_ID	NVARCHAR2(20)	NOT NULL
);

CREATE TABLE BUY_LIST (
	ORDER_NO	NVARCHAR2(20)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	PAY_STATUS	NVARCHAR2(20)	DEFAULT 'N',
	ORDER_DATE	DATE	NULL,
	ORDER_STATUS	NVARCHAR2(20)	DEFAULT '입금 전',
	REFUND_DATE	DATE	NULL
);

CREATE TABLE ORDER_TABLE (
	ORDER_NO	NVARCHAR2(20)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	ORDER_NAME	NVARCHAR2(20)	NULL,
	ORDER_PHONE	NVARCHAR2(20)	NULL,
	ORDER_EMAIL	NVARCHAR2(20)	NULL,
	ORDER_ADD	NVARCHAR2(200)	NULL
);

CREATE TABLE RECEIPT_TABLE (
	ORDER_NO	NVARCHAR2(20)	NOT NULL,
	PAINT_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NULL,
	REC_NAME	NVARCHAR2(20)	NULL,
	REC_PHONE	NVARCHAR2(20)	NULL,
	REC_ADD	NVARCHAR2(200)	NULL,
	REC_LIST	NVARCHAR2(20)	NULL,
	REC_MESSAGE	NVARCHAR2(200)	NULL
);

CREATE TABLE CHEATING (
	CHEAT_NO	NUMBER	NOT NULL,
	RECEIVE_ID	NVARCHAR2(20)	NOT NULL,
	SEND_ID	NVARCHAR2(20)	NOT NULL,
	CHEAT_CONTENT	NVARCHAR2(100)	NOT NULL,
	CHEAT_DAY	DATE	NULL,
	READ_YN	NVARCHAR2(2)	DEFAULT 'N'
);

CREATE TABLE FREE_BOARD (
	FREE_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NOT NULL,
	FREE_DATE	DATE	NULL,
	FREE_CONTENT	NVARCHAR2(1000)	NULL,
	FREE_HIT	NUMBER	NULL,
	FREE_PICTURE	NVARCHAR2(20)	NULL
);

CREATE TABLE FREE_BOARD_REPLY (
	FREE_R_NO	NUMBER	NOT NULL,
	FREE_NO	NUMBER	NOT NULL,
	USER_ID	NVARCHAR2(20)	NOT NULL,
	FREE_R_CONTENT	NVARCHAR2(500)	NULL,
	FREE_R_DATE	DATE	NULL
);

ALTER TABLE MEMBER ADD CONSTRAINT PK_MEMBER PRIMARY KEY (
	USER_ID
);

ALTER TABLE SELLER ADD CONSTRAINT PK_SELLER PRIMARY KEY (
	USER_ID
);

ALTER TABLE PAINT ADD CONSTRAINT PK_PAINT PRIMARY KEY (
	PAINT_NO
);

ALTER TABLE QUESTION ADD CONSTRAINT PK_QUESTION PRIMARY KEY (
	Q_NO
);

ALTER TABLE BOARD ADD CONSTRAINT PK_BOARD PRIMARY KEY (
	NOTI_NO
);

ALTER TABLE Q_FILE ADD CONSTRAINT PK_Q_FILE PRIMARY KEY (
	Q_NO
);

ALTER TABLE DELIVERY ADD CONSTRAINT PK_DELIVERY PRIMARY KEY (
	ADDRESS_NO,
	USER_ID
);

ALTER TABLE BASKET ADD CONSTRAINT PK_BASKET PRIMARY KEY (
	BASKET_NO
);

ALTER TABLE REFUND ADD CONSTRAINT PK_REFUND PRIMARY KEY (
	ORDER_NO,
	PAINT_NO,
	USER_ID
);

ALTER TABLE MASTERPIECE ADD CONSTRAINT PK_MASTERPIECE PRIMARY KEY (
	PAINT_NO,
	USER_ID
);

ALTER TABLE EVENT ADD CONSTRAINT PK_EVENT PRIMARY KEY (
	EVENT_NO
);

ALTER TABLE PAINT_Q ADD CONSTRAINT PK_PAINT_Q PRIMARY KEY (
	PQ_NO
);

ALTER TABLE PAINT_A ADD CONSTRAINT PK_PAINT_A PRIMARY KEY (
	PQ_NO
);

ALTER TABLE CAREER ADD CONSTRAINT PK_CAREER PRIMARY KEY (
	CAREER,
	USER_ID
);

ALTER TABLE ANSWER ADD CONSTRAINT PK_ANSWER PRIMARY KEY (
	Q_NO
);

ALTER TABLE USER_GRADE ADD CONSTRAINT PK_USER_GRADE PRIMARY KEY (
	GRADE
);

ALTER TABLE MESSAGE ADD CONSTRAINT PK_MESSAGE PRIMARY KEY (
	ORDER_NO,
	PAINT_NO,
	USER_ID
);

ALTER TABLE PAINT_PHOTO ADD CONSTRAINT PK_PAINT_PHOTO PRIMARY KEY (
	AFILE_NO,
	PAINT_NO
);

ALTER TABLE PAINT_SIZE ADD CONSTRAINT PK_PAINT_SIZE PRIMARY KEY (
	SIZE_NO
);

ALTER TABLE EVENT_FILE ADD CONSTRAINT PK_EVENT_FILE PRIMARY KEY (
	EVENT_NO
);

ALTER TABLE EVENT_LIKE ADD CONSTRAINT PK_EVENT_LIKE PRIMARY KEY (
	EVENT_NO,
	USER_ID
);

ALTER TABLE TAG ADD CONSTRAINT PK_TAG PRIMARY KEY (
	TAG_NAME,
	PAINT_NO
);

ALTER TABLE EVENT_REPLY ADD CONSTRAINT PK_EVENT_REPLY PRIMARY KEY (
	REPLY_NO,
	EVENT_NO
);

ALTER TABLE BUY_LIST ADD CONSTRAINT PK_BUY_LIST PRIMARY KEY (
	ORDER_NO,
	PAINT_NO,
	USER_ID
);

ALTER TABLE ORDER_TABLE ADD CONSTRAINT PK_ORDER_TABLE PRIMARY KEY (
	ORDER_NO,
	PAINT_NO,
	USER_ID
);

ALTER TABLE RECEIPT_TABLE ADD CONSTRAINT PK_RECEIPT_TABLE PRIMARY KEY (
	ORDER_NO,
	PAINT_NO,
	USER_ID
);

ALTER TABLE CHEATING ADD CONSTRAINT PK_CHEATING PRIMARY KEY (
	CHEAT_NO
);

ALTER TABLE FREE_BOARD ADD CONSTRAINT PK_FREE_BOARD PRIMARY KEY (
	FREE_NO
);

ALTER TABLE FREE_BOARD_REPLY ADD CONSTRAINT PK_FREE_BOARD_REPLY PRIMARY KEY (
	FREE_R_NO,
	FREE_NO
);

ALTER TABLE SELLER ADD CONSTRAINT FK_MEMBER_TO_SELLER_1 FOREIGN KEY (
	USER_ID
)
REFERENCES MEMBER(
	USER_ID
);

ALTER TABLE Q_FILE ADD CONSTRAINT FK_QUESTION_TO_Q_FILE_1 FOREIGN KEY (
	Q_NO
)
REFERENCES QUESTION (
	Q_NO
);

ALTER TABLE DELIVERY ADD CONSTRAINT FK_MEMBER_TO_DELIVERY_1 FOREIGN KEY (
	USER_ID
)
REFERENCES MEMBER (
	USER_ID
);

ALTER TABLE REFUND ADD CONSTRAINT FK_BUY_LIST_TO_REFUND_1 FOREIGN KEY (
	ORDER_NO,
    PAINT_NO,
    USER_ID
)
REFERENCES BUY_LIST (
	ORDER_NO,
    PAINT_NO,
    USER_ID
);


ALTER TABLE MASTERPIECE ADD CONSTRAINT FK_PAINT_TO_MASTERPIECE_1 FOREIGN KEY (
	PAINT_NO
)
REFERENCES PAINT (
	PAINT_NO
);

ALTER TABLE MASTERPIECE ADD CONSTRAINT FK_MEMBER_TO_MASTERPIECE_1 FOREIGN KEY (
	USER_ID
)
REFERENCES MEMBER (
	USER_ID
);

ALTER TABLE PAINT_A ADD CONSTRAINT FK_PAINT_Q_TO_PAINT_A_1 FOREIGN KEY (
	PQ_NO
)
REFERENCES PAINT_Q (
	PQ_NO
);

ALTER TABLE CAREER ADD CONSTRAINT FK_SELLER_TO_CAREER_1 FOREIGN KEY (
	USER_ID
)
REFERENCES SELLER (
	USER_ID
);

ALTER TABLE ANSWER ADD CONSTRAINT FK_QUESTION_TO_ANSWER_1 FOREIGN KEY (
	Q_NO
)
REFERENCES QUESTION (
	Q_NO
);

ALTER TABLE MESSAGE ADD CONSTRAINT FK_BUY_LIST_TO_MESSAGE_1 FOREIGN KEY (
	ORDER_NO,
    PAINT_NO,
    USER_ID
)
REFERENCES BUY_LIST (
	ORDER_NO,
    PAINT_NO,
    USER_ID
);


ALTER TABLE PAINT_PHOTO ADD CONSTRAINT FK_PAINT_TO_PAINT_PHOTO_1 FOREIGN KEY (
	PAINT_NO
)
REFERENCES PAINT (
	PAINT_NO
);

ALTER TABLE EVENT_FILE ADD CONSTRAINT FK_EVENT_TO_EVENT_FILE_1 FOREIGN KEY (
	EVENT_NO
)
REFERENCES EVENT (
    EVENT_NO
);

ALTER TABLE EVENT_LIKE ADD CONSTRAINT FK_EVENT_TO_EVENT_LIKE_1 FOREIGN KEY (
	EVENT_NO
)
REFERENCES EVENT (
	EVENT_NO
);

ALTER TABLE EVENT_LIKE ADD CONSTRAINT FK_MEMBER_TO_EVENT_LIKE_1 FOREIGN KEY (
	USER_ID
)
REFERENCES MEMBER (
	USER_ID
);

ALTER TABLE TAG ADD CONSTRAINT FK_PAINT_TO_TAG_1 FOREIGN KEY (
	PAINT_NO
)
REFERENCES PAINT (
	PAINT_NO
);

ALTER TABLE EVENT_REPLY ADD CONSTRAINT FK_EVENT_TO_EVENT_REPLY_1 FOREIGN KEY (
	EVENT_NO
)
REFERENCES EVENT (
	EVENT_NO
);

ALTER TABLE BUY_LIST ADD CONSTRAINT FK_PAINT_TO_BUY_LIST_1 FOREIGN KEY (
	PAINT_NO
)
REFERENCES PAINT (
	PAINT_NO
);

ALTER TABLE BUY_LIST ADD CONSTRAINT FK_MEMBER_TO_BUY_LIST_1 FOREIGN KEY (
	USER_ID
)
REFERENCES MEMBER (
	USER_ID
);

ALTER TABLE ORDER_TABLE ADD CONSTRAINT FK_BUY_LIST_TO_ORDER_TABLE_1 FOREIGN KEY (
	ORDER_NO,
    PAINT_NO,
    USER_ID
)
REFERENCES BUY_LIST (
	ORDER_NO,
    PAINT_NO,
    USER_ID
);


ALTER TABLE RECEIPT_TABLE ADD CONSTRAINT FK_BUY_LIST_TO_RECEIPT_TABLE_1 FOREIGN KEY (
	ORDER_NO,
    PAINT_NO,
    USER_ID
)
REFERENCES BUY_LIST (
	ORDER_NO,
    PAINT_NO,
    USER_ID
);


ALTER TABLE FREE_BOARD_REPLY ADD CONSTRAINT FK_REPLY_1 FOREIGN KEY (
	FREE_NO
)
REFERENCES FREE_BOARD (
	FREE_NO
);




